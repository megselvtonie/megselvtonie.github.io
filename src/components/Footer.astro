---
import Social from "../components/Social.astro";
---

<footer class="footer">
  <span class="item">megselvtonie © 2025</span>

  <Social platform="letterboxd" username="megselvtonie" compact class="item" />
  <Social platform="instagram"  username="megselvtonie" compact class="item" />
  <Social platform="github"     username="megselvtonie" compact class="item" />
  <Social platform="spotify"    username="tånje" compact class="item" />

  <span id="email" class="item email"></span>
  <a href="#top" class="item back-to-top">↑ Til toppen</a>
</footer>

<script is:inline>
  const user = "toniefiskvik";
  const domain = "gmail.com";
  const el = document.getElementById("email");
  if (el) {
    el.innerHTML = `<a href="mailto:${user}@${domain}">${user} [at] ${domain.replace(".", " [dot] ")}</a>`;
  }
</script>

<style>
  .footer {
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    gap: 1rem;

    width: 100vw;                    /* full bredde */
    margin-left: calc(-50vw + 50%);  /* trekker den ut av containeren */
    
    padding: 0.5rem 0;
    border-top: 0.1rem solid #000;   /* streken går helt ut */
height: 1.5rem;;
    font-size: 0.75rem;
    line-height: 1.4;
    color: #000;
    background: #fff5d1;             /* match bakgrunnsfargen om du vil */
  }

  .item {
    display: inline-block;
  }

  .footer a {
    color: #000;
    text-decoration: none;
  }

  .footer a:hover {
    text-decoration: underline;
  }

  .email {
    font-size: 0.75rem;
    font-style: italic;
  }

  /* === Desktop: gjør den sticky nederst === */
  @media (min-width: 601px) {
    .footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
    }
  }

  /* === Mobil: vanlig flow, venstrestilt === */
  @media (max-width: 600px) {
    .footer {
      position: static;              /* ikke sticky på mobil */
      flex-direction: column;
      align-items: flex-start;
      justify-content: flex-start;
      gap: 0.25rem;
      margin-left: 0;                /* unngå side-scroll */
      width: 100%;
    }
  }
</style>
